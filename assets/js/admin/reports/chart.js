jQuery(function(t){var e,n,a,r,i,s,o;a=null,n=function(e){var n,r,i;i=t.extend(!0,[],chart_data.series),r=t.extend(!0,[],chart_data.options),"undefined"!==e&&i[e]&&(n=i[e],n.color="#98c242",n.bars&&(n.bars.fillColor="#98c242"),n.lines&&(n.lines.lineWidth=5)),a=t.plot(t(".main-chart"),i,r),t(".main-chart").resize()},n(),t(".highlight_series").hover(function(){n(t(this).data("series"))},function(){n()}),o=function(e,n,a){t('<div class="chart-tooltip">'+a+"</div>").css({top:n-16,left:e+20}).appendTo("body").fadeIn(200)},r=function(t,e){var n;return n=e.series.data[e.dataIndex][1],e.series.append_tooltip&&(n+=e.series.append_tooltip),e.series.pie.show?[t.pageX,t.pageY,n]:[e.pageX,e.pageY,n]},i=null,s=null,t(".main-chart").bind("plothover",function(e,n,a){var l;a?(i!==a.dataIndex||s!==a.seriesIndex)&&(i=a.dataIndex,s=a.seriesIndex,t(".chart-tooltip").remove(),(a.series.points.show||a.series.enable_tooltip)&&(l=r(n,a),o(l[0],l[1],l[2]))):(t(".chart-tooltip").remove(),i=null)}),e=document.createElement("a"),"undefined"==typeof e.download&&t(".export-csv").hide(),t(".export-csv").click(function(){var e,n,r,i,s,o,l,h,d,c,u,p;if(r=t(this).data("exclude_series")||"",r=r.toString(),r=r.split(","),u=t(this).data("xaxes"),s=t(this).data("groupby"),i=t(this).data("export"),e="data:application/csv;charset=utf-8,","table"===i)t(this).closest("div").find("thead tr,tbody tr").each(function(){return t(this).find("th,td").each(function(){var n;return n=t(this).text(),n=n.replace("[?]",""),e+='"'+n+'",'})}),e=e.substring(0,e.length-1),e+="\n",t(this).closest("div").find("tfoot tr").each(function(){return t(this).find("th,td").each(function(){var n,a,r;if(r=t(this).text(),r=r.replace("[?]",""),e+='"'+r+'",',t(this).attr(!1)){for(n=1,a=[];n<t(this).attr("colspan");)n++,a.push(e+='"",');return a}}),e=e.substring(0,e.length-1),e+="\n"});else{if(null===a)return!1;for(c=a.getData(),h=[],e+=u+",",t.each(c,function(e,n){return r&&-1!==t.inArray(e.toString(),r)?void 0:h.push(n)}),l=0;l<h.length;)e+=h[l].label+",",++l;for(e=e.substring(0,e.length-1),e+="\n",p={},l=0;l<h.length;){for(d=h[l].data,n=0;n<d.length;){for(p[parseInt(d[n][0])]=new Array,o=0;o<h.length;)p[parseInt(d[n][0])].push(0),++o;++n}++l}for(l=0;l<h.length;){for(d=h[l].data,n=0;n<d.length;)p[parseInt(d[n][0])][l]=d[n][1],++n;++l}t.each(p,function(t,a){var r,i;for(r=new Date(parseInt(t)),e+="day"===s?r.getUTCFullYear()+"-"+parseInt(r.getUTCMonth()+1)+"-"+r.getUTCDate()+",":r.getUTCFullYear()+"-"+parseInt(r.getUTCMonth()+1)+",",n=0;n<a.length;)i=a[n],Math.round(i)!==i&&(i=parseFloat(i),i=i.toFixed(2)),++n,e+=i+",";return e=e.substring(0,e.length-1),e+="\n"})}return t(this).attr("href",encodeURI(e))})});